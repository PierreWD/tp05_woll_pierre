"use strict";(self.webpackChunktp3=self.webpackChunktp3||[]).push([[787],{787:(S,h,c)=>{c.r(h),c.d(h,{StoreModule:()=>q});var A=c(1841),g=c(8583),p=c(4321),m=c(4981),t=c(8186),d=c(8067),u=c(972);const T=function(i){return["/client/store/article",i]};function y(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"li",4),t.TgZ(1,"div"),t.TgZ(2,"span"),t._uU(3),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().deleteArt(l)}),t._uU(8,"X"),t.qZA(),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("routerLink",t.VKq(3,T,e.title)),t.xp6(3),t.Oqu(e.title),t.xp6(3),t.hij("",e.price,"\u20ac")}}let _=(()=>{class i{constructor(e,r){this.store=e,this.logServiceService=r,this.panier=[]}ngOnInit(){this.store.select(e=>e.panier.panier).subscribe(e=>{this.panier=e})}deleteArt(e){this.store.dispatch(new m.j(e)),alert("article supprim\xe9 du panier"),this.logServiceService.rmArticle()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.yh),t.Y36(u.E))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-panier"]],decls:5,vars:1,consts:[[2,"color","#397fcf","margin-left","2%"],[1,"panel-body",2,"margin","5%","margin-top","0"],[1,"list-group","scrollbar-primary",2,"margin-top","3%","overflow-y","auto","max-height","600px","width","100%"],["class","list-group-item","style","display: flex;cursor: pointer;",3,"routerLink",4,"ngFor","ngForOf"],[1,"list-group-item",2,"display","flex","cursor","pointer",3,"routerLink"],[1,"btn","btn-danger",2,"margin-left","auto",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Votre panier"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"ul",2),t.YNc(4,y,9,5,"li",3),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngForOf",r.panier))},directives:[g.sg,p.rH],styles:[""]}),i})();class f{constructor(o,e){this.title="",this.price=0,this.title=o,this.price=e}}var Z=c(6059);let x=(()=>{class i{constructor(e,r,n,l){this.route=e,this.httpService=r,this.store=n,this.logServiceService=l,this.catalogue=new f("",0),this.catalogue.title=this.route.snapshot.params.titre,this.httpService.getData().then(a=>{a.map(C=>{C.title==this.catalogue.title&&(this.catalogue.price=C.price)})})}ngOnInit(){}addPanier(){console.log(this.catalogue);var e=!1;this.store.select(r=>r.panier.panier).subscribe(r=>{r.forEach(l=>{l.title==this.catalogue.title&&(e=!0)})}),e?alert("article d\xe9j\xe0 pr\xe9sent dans le panier"):(this.store.dispatch(new m.z(this.catalogue)),this.logServiceService.addArticle(),alert("article ajout\xe9 au panier"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.gz),t.Y36(Z.w),t.Y36(d.yh),t.Y36(u.E))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-article"]],decls:10,vars:2,consts:[[2,"font-weight","bold"],[1,"btn",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"p"),t.TgZ(1,"span",0),t._uU(2,"titre:"),t.qZA(),t._uU(3),t.qZA(),t.TgZ(4,"p"),t.TgZ(5,"span",0),t._uU(6,"prix:"),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"button",1),t.NdJ("click",function(){return r.addPanier()}),t._uU(9," Ajouter au Panier\n"),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",r.catalogue.title,""),t.xp6(4),t.hij(" ",r.catalogue.price,"\u20ac"))},styles:[""]}),i})(),b=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],decls:2,vars:0,consts:[[2,"color","#397fcf"]],template:function(e,r){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Welcome on TP4"),t.qZA())},styles:[""]}),i})();const F=function(i){return["/client/store/article",i]};function M(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"li",3),t.TgZ(1,"div",4),t.TgZ(2,"span"),t._uU(3),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().addPanier(l)}),t._uU(8," Ajouter au Panier "),t.qZA(),t.qZA()}if(2&i){const e=o.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(3,F,e.title)),t.xp6(2),t.Oqu(e.title),t.xp6(3),t.hij("",e.price,"\u20ac")}}let v=(()=>{class i{constructor(e,r,n){this.httpService=e,this.store=r,this.logServiceService=n,this.catalogue=[],this.catalogueDisplayed=[],this.title="TP3"}ngOnInit(){this.httpService.getData().then(e=>{e.map(r=>{this.catalogue.push(new f(r.title,r.price))})}).then(()=>{this.catalogueDisplayed=this.catalogue})}filter(e,r){this.catalogueDisplayed=[],this.catalogue.map(n=>{null!=e&&null!=e&&n.price>e||(""==r||n.title.includes(r))&&this.catalogueDisplayed.push(n)})}addPanier(e){console.log(e);var r=!1;this.store.select(n=>n.panier.panier).subscribe(n=>{n.forEach(a=>{a.title==e.title&&(r=!0)})}),r?alert("article d\xe9j\xe0 pr\xe9sent dans le panier"):(this.store.dispatch(new m.z(e)),this.logServiceService.addArticle(),alert("article ajout\xe9 au panier"))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.w),t.Y36(d.yh),t.Y36(u.E))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-product"]],decls:3,vars:1,consts:[[1,"panel-body",2,"margin","5%","margin-top","0"],[1,"list-group","scrollbar-primary",2,"margin-top","3%","overflow-y","auto","max-height","600px","width","100%","overflow","auto"],["class","list-group-item","style","cursor: pointer;",4,"ngFor","ngForOf"],[1,"list-group-item",2,"cursor","pointer"],[3,"routerLink"],[1,"btn",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"ul",1),t.YNc(2,M,9,5,"li",2),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",r.catalogueDisplayed))},directives:[g.sg,p.rH],styles:[".scrollbar-primary[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}.scrollbar-primary[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.1);background-color:#4285f4}.scrollbar-primary[_ngcontent-%COMP%]{scrollbar-color:#4285F4 #F5F5F5}"]}),i})();var s=c(3679);const P=[{path:"moteur",component:(()=>{class i{constructor(e){this.logServiceService=e,this.titreFilter=""}ngOnInit(){console.log(this.logServiceService.CurrentLog)}onInputChangeTitre(e){var r;this.titreFilter=e,null===(r=this.ListProduct)||void 0===r||r.filter(this.priceFilter,e)}onInputChangePrice(e){var r;this.priceFilter=e,null===(r=this.ListProduct)||void 0===r||r.filter(e,this.titreFilter)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.E))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-moteur"]],viewQuery:function(e,r){if(1&e&&t.Gf(v,5),2&e){let n;t.iGM(n=t.CRH())&&(r.ListProduct=n.first)}},decls:13,vars:2,consts:[["role","main",1,"content",2,"margin-left","5%","margin-top","3%"],[2,"display","flex"],[1,"col-md-2"],["for","titreFilter"],["id","titreFilter","type","text","placeholder","Filtrer par titre",1,"form-control",3,"ngModel","ngModelChange"],["for","priceFilter"],["id","priceFilter","type","number","placeholder","Filtrer par prix max",1,"form-control",3,"ngModel","ngModelChange"],[2,"margin","auto","width","100%"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"label",3),t._uU(4,"Titre"),t.qZA(),t.TgZ(5,"input",4),t.NdJ("ngModelChange",function(l){return r.onInputChangeTitre(l)}),t.qZA(),t.qZA(),t.TgZ(6,"div",2),t.TgZ(7,"label",5),t._uU(8,"Prix maximum"),t.qZA(),t.TgZ(9,"input",6),t.NdJ("ngModelChange",function(l){return r.onInputChangePrice(l)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",1),t.TgZ(11,"div",7),t._UZ(12,"app-list-product"),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngModel",r.titreFilter),t.xp6(4),t.Q6J("ngModel",r.priceFilter))},directives:[s.Fj,s.JJ,s.On,s.wV,v],styles:[""]}),i})()},{path:"home",component:b},{path:"panier",component:_},{path:"article/:titre",component:x}];let q=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[g.ez,A.JF,s.u5,s.UX,p.Bz.forChild(P)]]}),i})()}}]);